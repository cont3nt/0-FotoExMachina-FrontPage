tinymce.PluginManager.add("canned_responses", function(e) {
    e.addButton("canned_response", {
        text: "Quick Text",
        icon: 'newdocument',
        tooltip: 'Canned Responses',
        onclick: function() {
            angular.element('#canned-lightbox, #canned-responses').fadeIn();
            angular.element($('.insert-canned-response')).unbind('click').click(function(){
                var res_content = $(this).parent().find('textarea').val();
                e.insertContent(res_content);
                res_content = '';
                angular.element($('#canned-lightbox, #canned-responses')).fadeOut();
                return false;
            });
        },
        onsubmit: function(t) {

        }
    });
});